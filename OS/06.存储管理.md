# 存储管理

## 功能

- 内存资源的管理
- 外存资源

### 存储分配

- 分配表
- 空闲表

### 存储共享

- 共享目的
  - 节省内存空间
  - 实现进程通信
- 共享内容
  - 代码 -- read only
  - 数据 -- 通信

### 存储保护

- 防止地址越界 addr
- 防止地址越权 w/r

### 存储扩充

### 地址映射 memory mapping

> 逻辑地址 -- 物理地址
- 存储管理部件MMU

---

## 内存资源管理

### 内存分区

- 静态分区
  - 静态划分内存
- 动态分区
  - 分配恰好大小的内存空间
- 对应
  - 等长分区
  - 异长分区

### 内存分配

#### 静态等长分区的分配

- 位图 bit map
- 空闲页面表 free page list
  - 首页面号
  - 页面个数
- 空闲页面链 idle page link
  - 链表实现

#### 动态异长分区的分配

- 最先适应 FF First Fit
  - 不断从头查找
- 下次适应 NF Next Fit
  - 循环查找
  - 减少开销
- 最佳适应 BF Best Fit
  - 满足要求的最小空闲区域
  - 产生碎片
- 最坏适应 WF Worst Fit
  - 分配最大的空闲空间

#### 碎片 fragment

#### 紧凑 compaction

---

## 存储管理方式

### 单一连续