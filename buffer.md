# OS 概述

## OS 概念

> Operating System

* 对下：管理各种系统资源
* 对上：为用户提供友好的界面
  * GUI Graphic User Interface

---

## OS 历史

* 手动操作阶段
  * 穿孔纸带、光电输入机
  * 用户在作业处理中，独享系统中全部资源；手工操作时间长
* 批处理阶段 -- OS雏形
  * 联机批处理
    * IO 传输由处理器机完成
  * 脱机批处理
    * IO 由卫星机实现
* 执行系统阶段
  * 通道/IO处理机 -- 自己指令系统和运控部件
  * “假脱机”
* 多道批处理
  * 内存同时存放多道作业
* 分时系统
  * 前提：脱机方式非常不利于程序的动态调试
  * 对话方式，为各终端服务
  * OS 趋于完善
* 实时处理系统
* 通用操作系统
> * 单核并发控制 -- 指令级别
> * 多核并发控制 -- 指令周期级别

---

## OS 特性

### 并发性 concurrency

* 并发
* 并行 -- 多处理器

### 共享性 sharing

* 处理器、主存储器、外存储器、设备、信息
* 掌握当前资源的使用情况

### 异步性 asynchronous

* 程序交替执行，切换点：中断
* OS的运行轨迹是异步的、不可预知的

### 虚拟性 virtuality

* 虚拟CPU、虚拟内存

---

## OS 分类

* 多道批处理 操作系统 batch processing os
  * 作业： 用户数据、数据、作业说明书
  * 输入/输出井：磁盘上的两个区域，用于保存已输入/未输出的结果
  * 多道 -- 内存与输入井多作业
  * 成批 -- 无需用户干预
* 分时 操作系统 time sharing os
  * 程序动态调试与修改
  * 时间片
* 实时 操作系统 real-time os
  * 及时性
  * 可靠性
  * 种类
    * 实时控制
    * 实时信息处理
* 通用 操作系统 muti-purpose os
  * 任务分级：实时任务>分时任务>批处理任务
  * 前后台系统 -- 前台>后台
* 单用户 操作系统 single user os
  * 用户独占计算机资源
* 网络 操作系统 network os
  * 主机+相连的外部设备 = HOST
  * 相互通信、共享资源
* 分布式操作系统 distributed os
  * > 网络操作系统的更高级形式
  * 种类
    * 紧耦合 (tightly coupled) 分布式系统 -- 多机系统基础
    * 松耦合 (loosely coulped) 分布式系统 -- 计算机网络基础
  * 统一的操作系统
  * 资源的进一步共享
    * 计算任务可进行迁移
  * 可靠性
    * 无主从关系、单机失效不会影响整体
  * 透明性
* 多处理器 操作系统 multi-processor os
  * 对称多处理SMP Symmetric Multi-Processing
    * 多个CPU型号地位相同无主从关系
    * 主要形式
* 嵌入式 操作系统
  * 个人助理PDA Personal Digital Assistant
  * 采用微内核(micro kernel)结构
  * 进程切换两次，经过操作系统
* 多媒体 操作系统
* 智能卡 操作系统
  * Java虚拟机

## OS 硬件环境

### 定时装置

* 绝对时钟
  * 硬件发生
* 间隔时钟
  * 每各固定的时间发生一次时钟中断
  * OS获得系统的控制权，系统管理、程序并发
  * 实现逻辑时钟（更长的间隔）

### 系统栈

* 系统空间的固定区域
* 中断响应 保存中断现场
* 保存OS子程序间相互调用的参数、返回值、返回点、子程序局部变量
* 多个系统栈 一个系统栈指针

### 处理器状态

* 系统态 kernel mode
  * 特权指令privileged instruction
* 用户态 user mode
  * 非特权指令non-privileged instruction
* 状态转换
  * 用户态 --中断--> 内核态